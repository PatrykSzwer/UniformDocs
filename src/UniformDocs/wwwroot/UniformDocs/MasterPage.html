<link rel="preload" as="style" href="/UniformDocs/style.css">
<link rel="import" href="/UniformDocs/elements/github-source-links.html">

<template>
    <link rel="stylesheet" href="/UniformDocs/style.css">
    <dom-bind>
        <template id="root" is="dom-bind">
            <imported-template href="{{model.NavPage.UniformDocs_0.Html}}"></imported-template>
            <starcounter-include slot="uniformdocs/current" view-model="{{model.CurrentPage}}"></starcounter-include>
        </template>
    </dom-bind>
    <template is="declarative-shadow-dom">
        <link rel="stylesheet" href="/sys/uniform.css/uniform.css">
        <style>
            .uniformdocs-nav.uni-layout-left-nav > nav > ::slotted(h4) {
                font-size: 1em !important;
                letter-spacing: normal !important;
                font-weight: bold !important;
                margin: 1.4em 0 1em 0 !important;
            }

            .uniformdocs-nav.uni-layout-left-nav > nav > h4 {
                font-size: 1em !important;
                letter-spacing: normal !important;
                font-weight: bold !important;
                margin: 1.4em 0 1em 0 !important;
            }

            .uniformdocs-nav.uni-layout-left-nav > nav > ::slotted(a) {
                padding-top: 3px !important;
                padding-bottom: 3px !important;
            }

            .uniformdocs-nav.uni-layout-left-nav > nav > a {
                padding-top: 3px !important;
                padding-bottom: 3px !important;
            }
        </style>
        <div class="uni-layout-left-nav uniformdocs-nav">
            <nav>
                <slot name="uniformdocs/menu-item"></slot>
            </nav>
            <slot name="uniformdocs/current"></slot>
        </div>
    </template>
    <script>
        var manifest = {
            "name": "UniformDocs PWA",
            "short_name": "UniformDocs",
            "description": "Shows how to model different UI patterns in JSON",
            "start_url": new URL('/UniformDocs', window.location).href, // needs to be an absolute URL
            "background_color": "#000000",
            "theme_color": "#0f4a73",
            "display": "standalone", // this is the most important prop, it makes the app full screen
            "icons": [{
                "src": "icon.png", // we need in icon
                "sizes": "256x256",
                "type": "image/png"
            }]
        }
        const stringManifest = JSON.stringify(manifest);
        const blob = new Blob([stringManifest], { type: 'application/json' });
        const manifestURL = URL.createObjectURL(blob);
        document.querySelector(`link[rel="manifest"]`).setAttribute('href', manifestURL);
    </script>
</template>
