<link rel="preload" as="style" href="/sys/uniform.css/uniform.css">

<template>
    <dom-bind><template is="dom-bind">
        <h1 slot="kitchensink/progressBar-heading">Progress Bar</h1>

        <p slot="kitchensink/progressBar-description">This example demonstrates how to run expensive tasks in the background. The key feature here is that the session does not get locked while these tasks are running, 
            and is continually updated throughout the progression of the task. </p>

        <p slot="kitchensink/progressBar-read-more"> Read more about <code><a href="https://github.com/joozek78/starcounter-async">AsyncInputHandlers.Run</a></code> and <code><a href="https://blogs.msdn.microsoft.com/dotnet/2012/06/06/async-in-4-5-enabling-progress-and-cancellation-in-async-apis/">Progress</a></code>.</p>
       
        <div slot="kitchensink/progressBar-progress-bar" class="kitchensink-progress-bar__container">
            <span class="kitchensink-progress-bar__percentages"> {{model.Progress}}% </span>
            <div class="kitchensink-progress-bar__fill" style="width:{{model.Progress}}%"></div>
        </div>
        <button slot="kitchensink/progressBar-button" value="{{model.StartProgressTrigger$::click}}" onmousedown="++this.value" disabled$="{{model.TaskIsRunnning}}"> {{model.DownloadButtonText}} </button>
        <template is="dom-if" if="{{model.Progress}}">
            <span slot="kitchensink/progressBar-button-text">{{model.FileDownloadText}}</span>
        </template>
    </template></dom-bind>
    <template is="declarative-shadow-dom">
        <link rel="stylesheet" href="/sys/uniform.css/uniform.css">
        <div class="uni-section-secondary uni-title">
            <slot name="kitchensink/progressBar-heading"></slot>
        </div>
        <div class="uni-section-primary">
            <div class="uni-card">
                <slot name="kitchensink/progressBar-description"></slot>
                <slot name="kitchensink/progressBar-read-more"></slot>
                <slot name="kitchensink/progressBar-progress-bar"></slot>
                <p>
                    <slot name="kitchensink/progressBar-button"></slot>
                    <slot name="kitchensink/progressBar-button-text"></slot>
                </p>
            </div>
        </div>
    </template>
</template>