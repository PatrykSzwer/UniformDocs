<template>
    <template is="dom-bind">
        <h1 slot="kitchensink/progressBar-heading" class="kitchensink-heading-1">Progress Bar</h1>

        <p slot="kitchensink/progressBar-description">This example demonstrates how to run expensive tasks in the background. The key feature here is that the session does not get locked while these tasks are running, 
            and is continually updated throughout the progression of the task. </p>

        <p slot="kitchensink/progressBar-read-more"> Read more about <code><a href="https://github.com/joozek78/starcounter-async">AsyncInputHandlers.Run</a></code> and <code><a href="https://blogs.msdn.microsoft.com/dotnet/2012/06/06/async-in-4-5-enabling-progress-and-cancellation-in-async-apis/">Progress</a></code>.</p>
       
        <div slot="kitchensink/progressBar-progress-bar" class="kitchensink-progress-bar__container">
            <span class="kitchensink-progress-bar__percentages"> {{model.Progress}}% </span>
            <div class="kitchensink-progress-bar__fill" style="width:{{model.Progress}}%"></div>
        </div>
        <p slot="kitchensink/progressBar-button-area">
            <button class="btn btn-sm btn-default kitchensink-progress-bar__button" value="{{model.StartProgressTrigger$::click}}" onmousedown="++this.value" disabled$="{{model.TaskIsRunnning}}"> {{model.DownloadButtonText}} </button>
            <template is="dom-if" if="{{model.Progress}}">
                <span>{{model.FileDownloadText}}</span>
            </template>
        </p>
    </template>
    <template is="declarative-shadow-dom">
        <slot name="kitchensink/progressBar-heading"></slot>
        <slot name="kitchensink/progressBar-description"></slot>
        <slot name="kitchensink/progressBar-read-more"></slot>
        <slot name="kitchensink/progressBar-progress-bar"></slot>
        <slot name="kitchensink/progressBar-button-area"></slot>
    </template>
</template>