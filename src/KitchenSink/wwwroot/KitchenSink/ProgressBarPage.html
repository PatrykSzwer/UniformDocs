<template>
    <template is="dom-bind">
        <p class="lead"> <code>Scheduling.ScheduleTask</code> Has a few different usage areas. But it can also be used to make a progress bar!</p>
        <div class="kitchensink-progress-bar__button-container">
            <button class="btn btn-sm btn-default" value="{{model.StartSlowProgress$::click}}" onmousedown="++this.value" disabled$="{{model.ButtonsDisabled}}"> Slow Progression </button>
            <button class="btn btn-sm btn-default" value="{{model.StartMediumProgress$::click}}" onmousedown="++this.value" disabled$="{{model.ButtonsDisabled}}"> Medium Progression </button>
            <button class="btn btn-sm btn-default" value="{{model.StartFastProgress$::click}}" onmousedown="++this.value" disabled$="{{model.ButtonsDisabled}}"> Fast Progression </button>
        </div>
        <div class="kitchensink-progress-bar__container">
            <span class="kitchensink-progress-bar__percentages"> {{model.Progress}}% </span>
            <div class="kitchensink-progress-bar__fill" style="width:{{getProgressStyle(model.Progress)}}%">
            </div>
        </div>
        <div class="kitchensink-progress-bar__button-container--bottom">
            <button class="btn btn-sm btn-default" value="{{model.StopProgress$::click}}" onmousedown="++this.value" disabled$="{{!model.ButtonsDisabled}}"> Reset Progress </button>
            <button class="btn btn-sm btn-default" value="{{model.PauseProgress$::click}}" onmousedown="++this.value" disabled$="{{pauseButtonDisablement(model.ButtonsDisabled, model.Progress)}}"> Pause Progress </button>
        </div>
    </template>
    <script>
        (function () {
            var script = document._currentScript || document.currentScript;
            var template = script.previousElementSibling;

            template.getProgressStyle = function (value) {
                return value;
            };

            template.pauseButtonDisablement = function (buttonsDisabled, progress) {
                if (progress == 100 || !buttonsDisabled) {
                    return true;
                }
                return false;
            }

        })();
    </script>
</template>