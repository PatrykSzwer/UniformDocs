<link rel="import" href="/sys/x-breadcrumb/x-breadcrumb.html" />
<link rel="import" href="/sys/x-breadcrumb/x-crumb.html" />

<template>
    <template is="dom-bind">
        <div>
            <h1>Breadcrumbs</h1>
        </div>
        
        <div>
            <h2>Simple breadcrumb</h2>
        </div>
        
        <div>
            <p class="kitchen-sink-current-page__paragraphHowTo">A JSON <code>array</code> of <code>objects</code> can used as a breadcrumb navigation. The below example uses <code>template is="dom-repeat"</code> with <code>span</code>.</p>
        </div>

        <template is="dom-repeat" items="{{model.Breadcrumbs}}" restamp>
            <div>
                <template is="dom-if" if="{{index}}" restamp>
                    &gt;
                </template>
            </div>
            <div>
                <span class="btn" select="{{item.Select$::mouseup}}" onmousedown="++this.select">{{item.Name}}</span>
            </div>
        </template>
        
        <div>
            <h2>Breadcrumb with navigation</h2>
        </div>

        <div>
            <p class="kitchen-sink-current-page__paragraphHowTo">It doesn't take much more to add a multidimensional navigation to the breadcrumb. The below example uses <code>template is="dom-repeat"</code> with <code><a href="https://github.com/Juicy/x-breadcrumb">x-breadcrumb</a></code> custom element.</p>
        </div>

        <style>
            x-breadcrumb {
                margin-bottom: 20px;
            }

            .breadcrumb-suggestions {
                padding: 0;
                list-style: none;
                color: white;
                margin: 0;
            }

                .breadcrumb-suggestions li:hover {
                    cursor: default;
                    background: rgba(255, 255, 255, 0.2);
                }
        </style>
        <div>
            <x-breadcrumb>
                <template is="dom-repeat" items="{{model.Breadcrumbs}}" restamp>
                    <x-crumb value="{{item.Name}}"
                             search-query="{{item.SearchQuery$}}"
                             dropdown="true"
                             active$="{{item.IsActive}}"
                             ghost$="{{item.IsGhost}}">
                        <ul class="breadcrumb-suggestions">
                            <template is="dom-repeat" items="{{item.Siblings}}" restamp>
                                <li select="{{item.Select$::click}}" onmousedown="++this.select">{{item.Name}}</li>
                            </template>
                            <li select="{{item.AddSibling$::click}}" onmousedown="++this.select">+ Add a new type</li>
                        </ul>
                    </x-crumb>
                </template>
            </x-breadcrumb>
        </div>
        <div>
            <template is="dom-if" if="{{model.CurrentTreeItem.IsAdd}}" restamp>
                <h5>Adding a new type in <strong>{{model.CurrentTreeItem.ParentName}}</strong></h5>
            </template>
        </div>
        <div>
            <template is="dom-if" if="{{!model.CurrentTreeItem.IsAdd}}" restamp>
                <h5>Editing <strong>{{model.CurrentTreeItem.Name$}}</strong></h5>
            </template>
        </div>

        <div>
            <label class="control-label">Name</label>
        </div>
        <div>
            <input type="text" value="{{model.CurrentTreeItem.Name$::change}}" placeholder="Name" class="form-control">
        </div>
        <div>
            <button value="{{model.CurrentTreeItem.Save$::click}}" onmousedown="++this.value">Save</button>
        </div>

        <dom-bind-notifier path="model" observed-object="{{model}}" deep></dom-bind-notifier>
    </template>
</template>
